!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("d3-shape")):"function"==typeof define&&define.amd?define(["exports","d3-shape"],a):a((e=e||self).d3=e.d3||{},e.d3)}(this,(function(e,a){"use strict";const t=(e,a)=>{if(a<0||a>1||isNaN(a))throw new Error(`Unable to calculate ${a} quantile`);var t=(e.length-1)*a,s=Math.floor(t),l=t-s;return l<.001?e[s]:Math.floor(e[s]*(1-l)+e[s+1]*l+.5)},s=[[],[[0,1]],[[0,1],[.25,.75]],[[0,1],[.15,.85],[.3,.7]],[[0,1],[.1,.9],[.2,.8],[.3,.7]],[[0,1],[.1,.9],[.2,.8],[.3,.7],[.4,.6]]],l=(e,a)=>s[a].map(([a,s])=>[t(e,a),t(e,s)]);e.Smokechart=(e,s)=>{const r={};let n=[];const c=(e,a)=>(e&&!Array.isArray(e)&&(a=e,e=void 0),a&&Object.assign(r,a),e&&c.data(e),c);return c.data=e=>e?(n=e.map(e=>[...e.filter(e=>void 0!==!isNaN(e))].sort((e,a)=>e-a)),c):n,c.adjustScaleRange=()=>{if(r.scaleX&&r.scaleX.domain([0,n.length]),!r.scaleY)return;let e=1/0,a=-1/0;return n.forEach(t=>{t.length&&(t[0]<e&&(e=t[0]),t[t.length-1]>a&&(a=t[t.length-1]))}),r.scaleY.domain([e,a]),c},c.scaleX=e=>e?(r.scaleX=e,c):r.scaleX,c.scaleY=e=>e?(r.scaleY=e,c):r.scaleY,c.line=(e=.5)=>[a.line().x(e=>r.scaleX?r.scaleX(e[0]):e[0]).y(e=>r.scaleY?r.scaleY(e[1]):e[1])(n.reduce((a,s,l)=>{const r=t(s,e);return[...a,[l-.5,r],[l+.5,r]]},[]))],c.smokeBands=(e=2)=>{const t=a.line().x(e=>r.scaleX?r.scaleX(e[0]):e[0]).y(e=>r.scaleY?r.scaleY(e[1]):e[1]),s=n.reduce((a,s,r)=>{const n=l(s,e),c=r-.5;return[...a,n.map(([e,a])=>t([[c,e],[c,a],[c+1,a],[c+1,e]])||"")]},[]);return s[0].map((e,a)=>s.map(e=>e[a]).join(""))},c.chart=(e,a)=>{e.selectAll("path.smokechart-band").data(c.smokeBands(3)).enter().append("path").classed("smokechart-band",!0).attr("fill","rgba(0,0,0,.25)").attr("d",e=>e),e.selectAll("path.smokechart-line").data(c.line(.5)).enter().append("path").classed("smokechart-line",!0).attr("stroke","#ff0000").attr("stroke-width",1.1).attr("fill","transparent").attr("d",e=>e)},c(e,s)},e.calculateSmokeBands=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=d3-smokechart.min.js.map
