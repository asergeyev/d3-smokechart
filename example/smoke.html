<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Small demo for d3-smokechart library" />
    <title>D3-Smokechart demo</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <h3>Using selection.call(obj.chart, args)</h3>
    <div id="smokeTest1"></div>
    <h3>Using obj.line(N) and obj.smokeBands(M)</h3>
    <div id="smokeTest2"></div>
  </body>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="../umd/d3-smokechart.js"></script>
  <script>
    // prettier-ignore
    const smokeData = [
      [64,67,67,68,68,68], [67,68,68,68,69,69], [67,67,67,67,69,69], [67,67,68,68,69,70], [67,67,67,68,68,69],
      [66,67,67,67,68,68], [67,67,68,68,68,68], [66,66,67,67,68,69], [67,67,68,68,68,68], [62,67,67,68,68,68],
      [66,67,67,68,69,69], [67,67,67,67,68,70], [157,67,67,68,69,70], [167,66,67,67,67,68], [66,66,67,67,68,68],
      [66,67,67,68,68,69], [66,66,67,67,68,71], [66,67,67,69,69,88], [67,68,68,68,68,69], [66,67,67,68,68,70],
      [122,67,67,68,69,69], [66,67,67,67,67,67], [66,67,67,67,67,69], [62,66,67,67,68,69], [65,67,68,68,69,69],
      [178,65,67,67,67,68], [67,67,67,68,68,70], [66,66,67,67,68,70], [63,66,67,67,68,68], [67,67,68,68,70,71],
      [67,68,68,68,68,70], [156,66,68,68,68,69], [67,67,67,67,68,69], [67,67,68,69,69,70], [66,67,67,68,68,70],
      [120,66,66,66,67,68], [66,67,67,67,67,68], [63,65,67,69,69,69], [63,67,68,69,69,69], [66,67,67,67,68,72],
      [66,67,68,68,69,71], [66,67,68,68,69,73], [65,67,67,67,67,68], [63,66,67,67,67,74], [149,66,67,67,68,68],
      [68,68,69,69,73,73], [57,66,67,67,68,68], [58,64,64,67,67,67], [64,67,67,67,67,68], [65,67,67,67,67,69],
      [63,67,67,67,68,68], [65,66,67,67,67,69], [66,66,67,67,68,69], [67,67,67,67,68,68], [67,67,67,67,67,67],
      [67,67,67,68,69,69], [150,66,66,67,68,68], [67,67,67,68,68,68], [100,66,67,67,69,70], [66,67,67,67,67,69],
      [66,67,67,67,68,68], [67,67,68,68,68,68], [67,68,68,68,69,69], [66,66,67,68,68,68], [67,67,67,68,68,69],
      [65,67,67,68,71,82], [67,67,68,68,69,70], [66,66,67,67,67,68], [65,66,67,69,70,76], [67,67,67,67,67,69],
      [66,67,67,68,68,68], [66,67,67,67,67,68], [66,67,67,68,68,68], [66,67,67,69,69,85], [66,66,67,67,68,69],
      [66,66,67,67,68,68], [63,64,65,67,67,68], [150,66,66,67,68,69], [66,67,67,67,68,68], [63,67,67,67,67,67],
      [66,66,66,67,67,67], [168,66,66,67,69,76], [66,67,67,67,67,67], [66,67,67,67,67,68], [66,67,67,67,67,69],
      [66,66,67,67,67,67], [66,67,68,68,69,69], [63,66,67,69,69,74], [62,66,66,66,67,68], [66,66,67,67,67,67],
      [169,67,67,67,67,68], [66,67,67,67,68,68], [66,67,67,68,68,69], [66,66,67,67,68,68], [67,67,67,68,69,69],
      [66,67,67,67,67,70], [66,67,68,68,68,69], [61,68,68,68,68,69], [66,66,67,67,67,67], [67,67,67,68,69,94],
      [66,66,66,67,67,68], [66,66,67,67,67,68], [66,67,68,68,68,69], [101,66,66,67,67,67], [67,67,67,67,68,68],
      [64,66,67,67,67,68], [66,66,66,67,68,68], [66,67,67,67,68,68], [65,66,66,67,67,69], [67,68,68,69,69,70],
      [61,66,66,67,67,67], [66,67,67,67,67,68], [67,67,67,68,69,70], [67,68,68,68,68,69], [66,67,67,67,68,69],
      [67,67,67,68,68,69], [63,66,67,67,67,69], [67,67,67,68,68,72], [64,66,66,66,67,67], [66,68,68,69,69,71],
      [64,68,68,68,69,69], [67,67,67,68,69,70], [67,67,67,67,67,68], [66,67,67,68,69,69], [66,67,67,67,67,68],
      [67,67,67,67,67,69], [65,67,67,67,68,70], [66,66,67,67,67,68], [66,66,67,67,68,68], [66,67,67,67,67,68],
      [137,67,67,67,67,70], [61,67,67,67,68,68], [67,67,67,67,68,68], [66,67,67,68,69,78], [66,66,67,67,67,68],
      [66,67,67,67,68,68], [67,67,68,68,68,68], [67,67,67,67,69,70], [67,67,67,67,67,69], [154,67,67,67,68,69],
      [66,67,67,67,68,69], [168,66,66,67,67,71], [65,66,67,67,67,67], [66,66,67,67,68,68], [67,67,67,68,68,68],
      [66,67,67,68,68,71], [66,67,67,67,68,68], [67,67,67,67,68,68], [66,67,67,67,69,71], [67,67,67,67,67,67],
      [66,67,67,67,68,68], [66,67,67,67,67,70], [66,67,67,68,68,68], [154,66,68,68,69,70], [66,66,67,67,67,67],
      [135,66,66,67,67,68], [66,67,68,68,68,68], [57,67,67,67,67,67], [66,66,67,67,67,67], [67,67,67,68,68,68],
      [66,67,67,67,68,69], [66,67,67,67,68,70], [66,67,67,68,68,69], [63,66,67,67,68,68], [66,67,67,68,68,68],
      [62,62,68,68,68,69], [58,62,65,66,67,68], [63,66,67,67,67,68], [63,63,65,67,67,69], [63,65,67,67,69,74],
      [63,67,67,67,67,67], [64,65,66,66,67,68], [66,66,67,67,67,68], [64,67,67,67,68,71], [65,67,67,67,67,68],
    ]

    const scaleX = d3.scaleLinear([50, 1000])
    const scaleY = d3.scaleLinear([290, 10])

    const smoker = d3.Smokechart({ scaleX, scaleY }).data(smokeData).adjustScaleRange()

    const test1 = d3.select("#smokeTest1").append("svg").attr("width", 1050).attr("height", 300)
    test1.append("g").call(smoker.chart, { mode: "smoke", bands: 5 })

    const test2 = d3.select("#smokeTest2").append("svg").attr("width", 1050).attr("height", 300)
    const g = test2.append("g")
    g.selectAll("path.smokeBand")
      .data(smoker.smokeBands(4))
      .enter()
      .append("path")
      .classed("smokeBand", true)
      .attr("fill", "rgba(0,0,0,.25)")
      .attr("d", d => d)

    g.selectAll("path.midLine")
      .data(smoker.line(0.5))
      .enter()
      .append("path")
      .classed("midLine", true)
      .attr("stroke", "#cc0000")
      .attr("stroke-width", 2)
      .attr("fill", "transparent")
      .attr("d", d => d)
  </script>
</html>
